<Window x:Class="Comida.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Comida"
        mc:Ignorable="d"
        Title="Comida" Icon="iconos\launch.ico" Width="950" Height="700" MinWidth="650" MinHeight="500">
    <Window.Resources>
        <Style x:Key="Bandera" TargetType="Image">
            <Style.Triggers>
                <DataTrigger Binding="{Binding  Path=Tipo, UpdateSourceTrigger= PropertyChanged}"
                             Value="Americana">
                    <Setter Property="Source"
                            Value="iconos\united_states.png" />
                    <Setter Property="ToolTip"
                            Value="Comida Americana" />
                </DataTrigger>
                <DataTrigger Binding="{Binding  Path=Tipo, UpdateSourceTrigger= PropertyChanged}"
                             Value="China">
                    <Setter Property="Source"
                            Value="iconos\china.png" />
                    <Setter Property="ToolTip"
                            Value="Comida China" />
                </DataTrigger>
                <DataTrigger Binding="{Binding  Path=Tipo, UpdateSourceTrigger= PropertyChanged}"
                             Value="Mexicana">
                    <Setter Property="Source"
                            Value="iconos\mexico.png" />
                    <Setter Property="ToolTip"
                            Value="Comida Mexicana" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="IconoGluten" TargetType="Image">
            <Setter Property="Source" Value="iconos\gluten.png" />
           <Style.Triggers>
                <DataTrigger Binding="{Binding  Path=Gluten, UpdateSourceTrigger= PropertyChanged}" Value="True">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding  Path=Gluten, UpdateSourceTrigger= PropertyChanged}"
                             Value="False">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="IconoLeche" TargetType="Image">
            <Setter Property="Source"
                    Value="iconos\milk.png" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding  Path=Leche, UpdateSourceTrigger= PropertyChanged}" Value="True">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding  Path=Leche, UpdateSourceTrigger= PropertyChanged}"
                             Value="False">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="iconoSulfitos" TargetType="Image">
            <Setter Property="Source"
                    Value="iconos\sulfide.png" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding  Path=Sulfitos, UpdateSourceTrigger= PropertyChanged}" Value="True">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding  Path=Sulfitos, UpdateSourceTrigger= PropertyChanged}"
                             Value="False">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="iconoSoja" TargetType="Image">
            <Setter Property="Source"
                    Value="iconos\soybean.png" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding  Path=Soja, UpdateSourceTrigger= PropertyChanged}" Value="True">
                    <Setter Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding  Path=Soja, UpdateSourceTrigger= PropertyChanged}"
                             Value="False">
                    <Setter Property="Visibility"
                            Value="Collapsed" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="datosComida"
               TargetType="StackPanel">
            <Setter Property="DockPanel.Dock"
                    Value="Right" />
            <Setter Property="Background"
                    Value="LightGray" />
            <Setter Property="Width"
                    Value="200" />
            <Setter Property="Margin"
                    Value="10" />
            <Style.Triggers>
                <DataTrigger  Binding="{Binding Path=PlatoSeleccionado}"
                              Value="{x:Null}">
                    <Setter Property="IsEnabled"
                            Value="False" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        

    </Window.Resources>
    <Grid Background="DeepSkyBlue">

        <Border BorderThickness="2" BorderBrush="Black" Margin="10" Background="White">
            <DockPanel>
                <StackPanel Style="{StaticResource datosComida}">
                    <TextBlock Text="Nombre del plato"></TextBlock>
                    <TextBox  Margin="5,0,5,5"
                              Text="{Binding Path= PlatoSeleccionado.Nombre}"></TextBox>
                    <TextBlock Text="Foto de plato"></TextBlock>
                    <TextBox Margin="5,0,5,5"></TextBox>
                    <TextBlock Text="Tipo de comida"></TextBlock>
                    <ComboBox Margin="5,0,5,5"></ComboBox>
                    <GroupBox Header="Alérgenos" BorderBrush="Black">
                        <UniformGrid Columns="2" Rows="2">
                            <CheckBox Content="Leche"></CheckBox>
                            <CheckBox Content="Soja"></CheckBox>
                            <CheckBox Content="Gluten"></CheckBox>
                            <CheckBox Content="Sulfitos"></CheckBox>
                        </UniformGrid>
                    </GroupBox>

                    <Button Content="Limpiar selección" Background="DeepSkyBlue" HorizontalAlignment="Left" Margin="5" />

                </StackPanel>
                <ListBox ItemsSource = "{ Binding Path=Platos}" SelectedItem="{Binding Path=PlatoSeleccionado}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" >
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel ></WrapPanel>
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <ListBox  BorderBrush="Black" BorderThickness="2" Padding="5" Margin="10">
                                <ListBox.Effect>
                                    <DropShadowEffect/>
                                </ListBox.Effect>
                                <DockPanel Width="230" Height="270" >
                                    <Viewbox DockPanel.Dock="Top" Height="50" >
                                        <TextBlock  Text="{Binding Path=Nombre}"></TextBlock>
                                    </Viewbox>
                                    <DockPanel DockPanel.Dock="Bottom" LastChildFill="False" Height="30" >
                                        <Image Style="{StaticResource Bandera}" ></Image>
                                        <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                            <Image Style="{StaticResource IconoGluten}"></Image>
                                            <Image Style="{StaticResource IconoLeche}"></Image>
                                            <Image Style="{StaticResource iconoSulfitos}"></Image>
                                            <Image Style="{StaticResource iconoSoja}"></Image>
                                        </StackPanel>
                                    </DockPanel>
                                    <Image  Source="{Binding Path= Imagen}"  Stretch="UniformToFill" Margin="10"></Image>

                                </DockPanel>
                            </ListBox>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </DockPanel>
        </Border>
    </Grid>
</Window>
